<% if false %>
Project name: Beacon Resources
Description: BeaconResources is a web application that will allow for easy access to verified resources, such as homeless shelters and food banks, by county in New Jersey with appropriate category filtering.
Filename: application.html.erb
Description: Layout for site
Last modified on: 11/11/2020
<% end %>

<!DOCTYPE html>
<html>
  <head>
    <title>BeaconResources</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  </head>

  <%# Code for displaying things on the navbar, some appear for admin and others appear for nonadmin %>
  <header>
    <div class="topnav">
      <h1><%= link_to "BeaconResources", "/" %></h1>
      <% if admin_signed_in? %>
        <%= link_to '<button type="button" class="btn btn-outline-primary">Add Resource</button>'.html_safe, "/add" %>
        <%= link_to '<button type="button" class="btn btn-outline-primary">Remove Resource</button>'.html_safe, "/remove" %>
        <%= link_to '<button type="button" class="btn btn-outline-primary">View Suggestions</button>'.html_safe, "/view" %>
      <% end %>
      <% unless admin_signed_in? %>
        <%= link_to '<button type="button" class="btn btn-outline-primary">Suggest Resource</button>'.html_safe, "/suggestions" %>
        <%= link_to '<button type="button" class="btn btn-outline-primary">Admin Log In</button>'.html_safe, "/admins/sign_in" %>
      <% end %>
      <% if admin_signed_in? %>
        <%= link_to '<button type="button" class="btn btn-outline-primary">Sign Out</button>'.html_safe, destroy_admin_session_path, method: :delete %>
      <% end %>
    </div>    
  </header>

  <body>
  <%# Code for displaying notices and alerts %>
    <% if notice != nil %>
      <div class="alert alert-info notice">
        <%= notice %>
      </div>
    <% end %>
    <% if alert != nil %>
      <div class="alert alert-danger alert">
        <%= alert %>
      </div>
    <% end %>
    
    <%= yield %>
  </body>
</html>
